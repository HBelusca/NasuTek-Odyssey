
add_definitions(-D__NTDRIVER__)

include_directories(
    BEFORE ${ODYSSEY_SOURCE_DIR}/drivers/network/tcpip/include
    ${ODYSSEY_SOURCE_DIR}/lib/drivers/lwip/src/include
    ${ODYSSEY_SOURCE_DIR}/lib/drivers/lwip/src/include/ipv4)

if(ARCH MATCHES i386)
    list(APPEND SOURCE network/i386/checksum.S)
endif()

list(APPEND SOURCE
    network/address.c
    network/arp.c
    network/checksum.c
    network/icmp.c
    network/interface.c
    network/ip.c
    network/loopback.c
    network/neighbor.c
    network/ports.c
    network/receive.c
    network/router.c
    network/routines.c
    network/transmit.c
    transport/datagram/datagram.c
    transport/rawip/rawip.c
    transport/tcp/accept.c
    transport/tcp/event.c
    transport/tcp/if.c
    transport/tcp/tcp.c
    transport/udp/udp.c)

add_library(ip ${SOURCE})
add_pch(ip precomp.h)
add_dependencies(ip bugcodes)
